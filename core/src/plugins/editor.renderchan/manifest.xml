<?xml version="1.0" encoding="UTF-8"?>
<editor id="editor.renderchan" enabled="false" openable="true" order="11" iconClass="icon-picture" previewProvider="true"
        formId="diaporama_box" text="328" title="329" icon="frame_image.png" className="RenderchanPreviewer"
        mimes="mime_folder,ai,avi,blend,bmp,cdr,cel,dcm,dds,dicom,eps,fit,fits,flc,fli,g3,ico,kra,mov,mp4,mpg,ora,pbm,pcc,pcl,pcx,pdf,pgm,pnm,png,ppm,ps,psd,psp,sif,sifz,svg,svgz,tiff,vsd,wmf,xbm,xcf,xjt,xwd" label="CONF_MESSAGE[Renderchan]"
        description="CONF_MESSAGE[This plugin shows pregenerated thumbnails and previews]"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="file:../core.ajaxplorer/ajxp_registry.xsd">
    <class_definition filename="plugins/editor.renderchan/RenderchanPreviewer.php" classname="RenderchanPreviewer"/>
    <client_settings>
        <resources>
            <js file="plugins/editor.renderchan/class.RenderchanPreviewer.js" className="RenderchanPreviewer"/>
            <i18n namespace="renderchan_editor" path="plugins/editor.renderchan/i18n"/>
        </resources>
    </client_settings>
	<server_settings>
		<global_param name="THUMB_DIRS" type="string" label="CONF_MESSAGE[Thumnail folders]" description="CONF_MESSAGE[Comma separated list of folder names with thumbnails]" default="" />
		<global_param name="THUMB_SUFFIXES" type="string" label="CONF_MESSAGE[Thumbnails suffixes]" description="CONF_MESSAGE[Comma separated list of thumbnail filename suffixes]" default=".thumb.png" />
		<global_param name="PREVIEW_DIRS" type="string" label="CONF_MESSAGE[Preview folders]" description="CONF_MESSAGE[Comma separated list of folder names with previews]" default="" />
		<global_param name="PREVIEW_SUFFIXES" type="string" label="CONF_MESSAGE[Preview suffixes]" description="CONF_MESSAGE[Comma separated list of preview filename suffixes]" default=".preview.png" />
	</server_settings>
	<registry_contributions>
		<actions>
			<action name="renderchan_get_thumbnail" contentTypedProvider="true">
				<processing>
					<serverCallback methodName="switchAction" restParams="/file+">
                        <input_param name="file" type="AJXP_NODE" description="Path to the file"/>
                        <input_param name="json" type="boolean" description="Return description of preview in JSON-format"/>
                        <output type="json|file" description="Depending on the mode, will return either directly an image (thumbnail), or a json structure containing link to thumbnail."/>
					</serverCallback>
				</processing>
			</action>
			<action name="renderchan_get_preview">
				<processing>
					<serverCallback methodName="switchAction" restParams="/file+">
                        <input_param name="file" type="AJXP_NODE" description="Path to the file"/>
                        <input_param name="json" type="boolean" description="Return description of preview in JSON-format"/>
                        <output type="json|file" description="Depending on the mode, will return either directly an image (preview), or a json structure containing link to preview."/>
					</serverCallback>
				</processing>
			</action>
		</actions>
	</registry_contributions>
	<dependencies>
		<pluginResources pluginName="editor.diaporama"/>
	</dependencies>
</editor>
